{"version":3,"file":"js/455.ec63c56f.js","mappings":"sMACOA,MAAM,+C,GACJA,MAAM,mB,WACgC,M,GACzCC,EAAAA,EAAAA,GAUS,UATPD,MAAM,iBACNE,KAAK,SACL,iBAAe,WACf,iBAAe,0BACf,gBAAc,yBACd,gBAAc,QACd,aAAW,qBAPb,EASED,EAAAA,EAAAA,GAAyC,QAAnCD,MAAM,0BATd,G,GAWKA,MAAM,2BAA2BG,GAAG,0B,GACnCH,MAAM,mC,GACJA,MAAM,Y,WAC6B,Q,GAEnCA,MAAM,Y,WAC2C,U,GAIjDA,MAAM,Y,WACyC,W,wHAzB3DC,EAAAA,EAAAA,GAiCM,MAjCN,EAiCM,EAhCJA,EAAAA,EAAAA,GA+BM,MA/BN,EA+BM,EA9BJG,EAAAA,EAAAA,IAAyDC,EAAA,CAA5CL,MAAM,eAAeM,GAAG,KAArC,C,kBAAyC,IAAE,M,MAC3CC,GAWAN,EAAAA,EAAAA,GAiBM,MAjBN,EAiBM,EAhBJA,EAAAA,EAAAA,GAcK,KAdL,EAcK,EAbHA,EAAAA,EAAAA,GAEK,KAFL,EAEK,EADHG,EAAAA,EAAAA,IAAuDC,EAAA,CAA1CL,MAAM,WAAWM,GAAG,KAAjC,C,kBAAqC,IAAI,M,SAE3CL,EAAAA,EAAAA,GAIK,KAJL,EAIK,EAHHG,EAAAA,EAAAA,IAEcC,EAAA,CAFDL,MAAM,WAAWM,GAAG,mBAAjC,C,kBAAmD,IAEnD,M,SAEFL,EAAAA,EAAAA,GAIK,KAJL,EAIK,EAHHG,EAAAA,EAAAA,IAEcC,EAAA,CAFDL,MAAM,WAAWM,GAAG,iBAAjC,C,kBAAiD,IAEjD,M,WAGJL,EAAAA,EAAAA,GAA2C,KAAxCO,KAAK,IAAKC,QAAK,8BAAUC,EAAAA,SAAAA,EAAAA,WAAAA,IAAO,eAAE,YAIxBC,EAAAA,eAAAA,EAAAA,EAAAA,OAAnBC,EAAAA,EAAAA,IAA+CC,EAAA,CAAAC,IAAAA,MAA/C,oBAIF,OAEEC,OACE,MAAO,CACLC,cAAc,IAGlBC,QAAS,CACPC,aACE,MAAMC,EAAQC,SAASC,OAAOC,QAC5B,mDACA,MAEF,GAAIH,EAAO,CAETI,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAiB,GAAET,IACtD,MAAMU,EAAO,yDACbN,KAAKC,MACFM,KAAKD,EAAK,CAAEE,UAAWR,KAAKJ,QAC5Ba,MAAK,KACJT,KAAKP,cAAe,KAErBiB,OAAOC,IACNC,MAAMD,EAAInB,KAAKqB,SACfb,KAAKc,QAAQC,KAAK,kBAGtBH,MAAM,UACNZ,KAAKc,QAAQC,KAAK,WAGtBC,UACEnB,SAASC,OAAS,qBAClBc,MAAM,aACNZ,KAAKc,QAAQC,KAAK,YAGtBE,UACEjB,KAAKL,e,SCxET,MAAMuB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://week6-homework/./src/views/DashboardView.vue","webpack://week6-homework/./src/views/DashboardView.vue?7280"],"sourcesContent":["<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n    <div class=\"container-fluid\">\n      <router-link class=\"navbar-brand\" to=\"/\">後台</router-link>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarSupportedContent\"\n        aria-controls=\"navbarSupportedContent\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/\">回到前台</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/products\">\n              產品列表\n            </router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/coupon\">\n              產品優惠券\n            </router-link>\n          </li>\n        </ul>\n        <a href=\"#\" @click.prevent=\"signout\">登出</a>\n      </div>\n    </div>\n  </nav>\n  <router-view v-if=\"checkSuccess\"></router-view>\n</template>\n\n<script>\nexport default {\n  // name: \"DashboardView\",\n  data() {\n    return {\n      checkSuccess: false,\n    };\n  },\n  methods: {\n    checkLogin() {\n      const token = document.cookie.replace(\n        /(?:(?:^|.*;\\s*)davidToken\\s*=\\s*([^;]*).*$)|^.*$/,\n        \"$1\"\n      );\n      if (token) {\n        // Axios 預設值\n        this.$http.defaults.headers.common.Authorization = `${token}`;\n        const api = `${process.env.VUE_APP_API}api/user/check`;\n        this.$http\n          .post(api, { api_token: this.token })\n          .then(() => {\n            this.checkSuccess = true;\n          })\n          .catch((err) => {\n            alert(err.data.message);\n            this.$router.push(\"/login\"); // vue router的跳轉方法\n          });\n      } else {\n        alert(\"您尚未登入。\");\n        this.$router.push(\"/login\"); // vue router的跳轉方法\n      }\n    },\n    signout() {\n      document.cookie = \"hexToken=;expires;\"; // 清除token\n      alert(\"token 已清除\");\n      this.$router.push(\"/login\"); // 回到登入頁面\n    },\n  },\n  mounted() {\n    this.checkLogin();\n  },\n};\n</script>\n","import { render } from \"./DashboardView.vue?vue&type=template&id=7f39764e\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mac/Desktop/Vue-homework/w6-1/week6-homework/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","id","_createVNode","_component_router_link","to","_hoisted_4","href","onClick","$options","$data","_createBlock","_component_router_view","key","data","checkSuccess","methods","checkLogin","token","document","cookie","replace","this","$http","defaults","headers","common","Authorization","api","post","api_token","then","catch","err","alert","message","$router","push","signout","mounted","__exports__","render"],"sourceRoot":""}